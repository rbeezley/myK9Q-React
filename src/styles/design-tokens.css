/* ===================================================================
   DESIGN TOKENS - SINGLE SOURCE OF TRUTH
   All colors, spacing, typography, and design values for myK9Q
   =================================================================== */

:root {
  /* ===== FOUNDATION COLORS ===== */
  /* Apple System Colors */
  --apple-pure-black: #000000;
  --apple-pure-white: #ffffff;
  --apple-system-gray: #8e8e93;

  /* Brand Colors */
  --brand-blue: #007AFF;
  --brand-purple: #5856D6;
  --brand-gradient: linear-gradient(135deg, #007AFF 0%, #5856D6 100%);

  /* ===== UI COLORS (Light Theme) ===== */
  --background: #fefefe;
  --foreground: #0a0a0a;
  --card: #ffffff;
  --card-foreground: #0a0a0a;
  --muted: #f6f6f6;
  --muted-foreground: #6b7280;
  --border: #e5e7eb;
  --input: #f3f4f6;
  --primary: #007AFF;
  --primary-foreground: #ffffff;
  --secondary: #f1f5f9;
  --secondary-foreground: #0f172a;

  /* Neutral Grays (Light Theme) - for theme switching */
  --surface: #f1f5f9;              /* Light secondary surface */
  --surface-subtle: #f3f4f6;        /* Very light surface */
  --surface-muted: #f5f5f5;         /* Light subtle surface */
  --surface-elevated: #ffffff;      /* Elevated card/modal background */
  --background-subtle: #f8fafc;     /* Lightest surface */
  --background-soft: #f8f9fa;       /* Subtle background */
  --foreground-muted: #374151;      /* Muted text color */
  --foreground-dark: #1e293b;       /* Dark text on light bg */
  --border-light: #e0e0e0;          /* Light border */
  --border-subtle: #e5e7eb;         /* Very light border */
  --text-gray: #6b7280;             /* Gray text/muted */
  --text-light-gray: #9ca3af;       /* Light gray text */

  /* ===== STATUS COLORS ===== */
  /* Check-in Status Colors */
  --status-no-status: #9ca3af;
  --status-no-status-bg: #9ca3af;
  --status-no-status-text: #ffffff;

  --status-checked-in: #10b981;
  --status-checked-in-bg: #10b981;
  --status-checked-in-text: #ffffff;

  --status-at-gate: #8b5cf6;
  --status-at-gate-bg: #8b5cf6;
  --status-at-gate-text: #ffffff;

  --status-come-to-gate: #3b82f6;
  --status-come-to-gate-bg: #3b82f6;
  --status-come-to-gate-text: #ffffff;

  --status-conflict: #f59e0b;
  --status-conflict-bg: #f59e0b;
  --status-conflict-text: #ffffff;

  --status-pulled: #ef4444;
  --status-pulled-bg: #ef4444;
  --status-pulled-text: #ffffff;

  /* Class Status Colors - Light Mode (matching dialog) */
  /* Setup: Deep amber/brown - informational status */
  --status-setup: #b45309;
  --status-setup-text: #ffffff;

  /* Briefing: Bright orange - action required, needs to stand out */
  --status-briefing: #ff6b00;
  --status-briefing-text: #ffffff;

  /* Break: Magenta/purple */
  --status-break: #c000ff;
  --status-break-text: #ffffff;

  /* Start Time: Teal/cyan - distinct from blue and purple */
  --status-start-time: #14b8a6;
  --status-start-time-text: #ffffff;

  /* In Progress: Blue */
  --status-in-progress: #0066ff;
  --status-in-progress-text: #ffffff;

  /* Completed: Emerald green */
  --status-completed: #00cc66;
  --status-completed-text: #ffffff;

  /* None/Pending: Gray with white text */
  --status-none: #9ca3af;
  --status-none-text: #ffffff;

  /* Check-in Status Colors - Light Mode (Traffic Light System) */
  /* None: Gray (no action taken) */
  --checkin-none: #6b7280;
  --checkin-none-text: #ffffff;

  /* Checked In: Green (ready to compete) */
  --checkin-checked-in: var(--status-checked-in);
  --checkin-checked-in-text: #ffffff;

  /* Conflict: Orange (warning - needs attention) */
  --checkin-conflict: #f97316;
  --checkin-conflict-text: #ffffff;

  /* Pulled: Red (stopped - withdrawn) */
  --checkin-pulled: #dc3545;
  --checkin-pulled-text: #ffffff;

  /* At Gate: Purple (final waiting stage) */
  --checkin-at-gate: #6f42c1;
  --checkin-at-gate-text: #ffffff;

  /* Result Status Colors */
  --status-qualified: var(--status-checked-in);
  --status-qualified-bg: var(--status-checked-in);
  --status-qualified-text: #ffffff;

  --status-not-qualified: var(--status-pulled);
  --status-not-qualified-bg: var(--status-pulled);
  --status-not-qualified-text: #ffffff;

  --status-excused: #fef3c7;
  --status-excused-bg: #fef3c7;
  --status-excused-text: #ffffff;

  --status-pending: #f3f4f6;
  --status-pending-bg: #f3f4f6;
  --status-pending-text: #6b7280;

  /* Semantic Colors */
  --pending-orange: #FF9500;
  --pending-glow: 0 0 var(--token-space-2xl) rgba(255, 149, 0, 0.3);
  --success-green: #34C759;
  --error-red: #FF3B30;
  --warning-amber: #FF9500;

  --token-success: #34C759;
  --token-warning: #FF9500;
  --token-error: #FF3B30;
  --token-success-contrast: var(--status-checked-in);

  /* Onboarding Colors */
  --onboarding-color-favorites: var(--status-pulled); /* Red for favorites (Heart icon) */
  --onboarding-color-checkin: var(--status-checked-in); /* Green for check-in */
  --onboarding-color-updates: var(--status-in-progress); /* Blue for notifications */
  --onboarding-color-status: var(--status-conflict); /* Amber for class status */
  --onboarding-logo-gradient: linear-gradient(135deg, #10b981 0%, #059669 100%);
  --token-warning-contrast: #c2410c;
  --token-error-contrast: #dc2626;

  /* Placement Colors (for emoji badges) */
  --token-placement-1: var(--checkin-in-ring); /* Blue */
  --token-placement-2: #dc2626; /* Red */
  --token-placement-3: var(--status-conflict); /* Yellow/Gold */
  --token-placement-4: #6b7280; /* Gray */

  /* Result Status Colors */
  --token-result-qualified: var(--status-checked-in);
  --token-result-nq: #dc2626;
  --token-result-excused: #dc2626;
  --token-result-absent: #7c3aed;
  --token-result-withdrawn: #7c3aed;

  /* Text Colors */
  --token-text-primary: #000000;
  --token-text-secondary: #374151;
  --token-text-tertiary: #6b7280;
  --token-text-muted: #9ca3af;
  --token-text-white: #ffffff;

  /* In Ring: Blue (active competing) */
  --checkin-in-ring: var(--checkin-in-ring);
  --checkin-in-ring-text: #ffffff;

  /* Legacy Token Names (backwards compatibility) */
  --token-status-no-status: var(--status-no-status);
  --token-status-no-status-bg: var(--status-no-status-bg);
  --token-status-checked-in: var(--status-checked-in);
  --token-status-checked-in-bg: var(--status-checked-in-bg);
  --token-status-at-gate: var(--status-at-gate);
  --token-status-at-gate-bg: var(--status-at-gate-bg);
  --token-status-in-ring: var(--checkin-in-ring);
  --token-status-in-ring-bg: var(--checkin-in-ring);
  --token-status-conflict: var(--status-conflict);
  --token-status-conflict-bg: var(--status-conflict-bg);
  --token-status-pulled: var(--status-pulled);
  --token-status-pulled-bg: var(--status-pulled-bg);
  --token-status-done: var(--status-completed);
  --token-status-done-bg: var(--status-completed-bg);

  /* ===== SPACING ===== */
  --token-space-xs: 0.125rem;   /* var(--token-space-xs) */
  --token-space-sm: 0.25rem;    /* var(--token-space-sm) */
  --token-space-md: 0.5rem;     /* var(--token-space-md) */
  --token-space-lg: 0.75rem;    /* var(--token-space-lg) - mobile container padding */
  --token-space-xl: 1rem;       /* var(--token-space-xl) */
  --token-space-2xl: 1.25rem;   /* var(--token-space-2xl) */
  --token-space-3xl: 1.5rem;    /* var(--token-space-3xl) - desktop container padding */
  --token-space-4xl: 2rem;      /* var(--token-space-4xl) */

  /* Density Spacing (multipliers for element spacing) */
  --spacing-multiplier: 1;
  --spacing-compact: 0.25rem;
  --spacing-comfortable: 0.5rem;
  --spacing-spacious: 1rem;

  /* Element-specific spacing (adjusts with density) */
  --element-padding: calc(var(--spacing-comfortable) * var(--spacing-multiplier));
  --element-margin: calc(var(--spacing-comfortable) * var(--spacing-multiplier));
  --element-gap: calc(var(--spacing-comfortable) * var(--spacing-multiplier));

  /* ===== BORDER RADIUS ===== */
  --token-radius-sm: 0.375rem;  /* 6px */
  --token-radius-md: 0.5rem;    /* var(--token-space-md) */
  --token-radius-lg: 0.75rem;   /* var(--token-space-lg) */
  --token-radius-xl: 1rem;      /* var(--token-space-xl) */
  --token-radius-full: 50%;

  /* ===== SHADOWS ===== */
  --token-shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.1);
  --token-shadow-md: 0 var(--token-space-xs) var(--token-space-md) rgba(0, 0, 0, 0.1);
  --token-shadow-lg: 0 var(--token-space-md) var(--token-space-3xl) rgba(0, 0, 0, 0.12);
  --token-shadow-xl: 0 var(--token-space-lg) var(--token-space-4xl) rgba(0, 0, 0, 0.15);

  /* ===== GLASS MORPHISM ===== */
  --glass-bg: rgba(255, 255, 255, 0.1);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-blur: blur(20px);

  /* ===== OPACITY VARIANTS ===== */
  /* White overlays (for light backgrounds) */
  --overlay-white-subtle: rgba(255, 255, 255, 0.1);      /* 34x - subtle white overlay */
  --overlay-white-light: rgba(255, 255, 255, 0.2);       /* 23x - light white overlay */
  --overlay-white-moderate: rgba(255, 255, 255, 0.3);    /* 21x - moderate white overlay */
  --overlay-white-strong: rgba(255, 255, 255, 0.6);      /* 13x - strong white overlay */
  --overlay-white-heavy: rgba(255, 255, 255, 0.8);       /* 32x - very strong white overlay */

  /* Black shadows/overlays (for dark effects) */
  --shadow-barely: rgba(0, 0, 0, 0.05);                  /* 13x - barely visible shadow */
  --shadow-subtle: rgba(0, 0, 0, 0.1);                   /* 29x - subtle shadow */
  --shadow-light: rgba(0, 0, 0, 0.15);                   /* 12x - light shadow */
  --shadow-moderate: rgba(0, 0, 0, 0.2);                 /* 17x - moderate shadow */
  --shadow-medium: rgba(0, 0, 0, 0.3);                   /* 26x - medium shadow */
  --shadow-strong: rgba(0, 0, 0, 0.4);                   /* 6x - strong shadow/overlay */
  --shadow-modal: rgba(0, 0, 0, 0.5);                    /* 19x - modal backdrop */

  /* Status color overlays (for highlights/badges) */
  --overlay-error: rgba(239, 68, 68, 0.1);               /* 21x - red error highlight */
  --overlay-info: rgba(99, 102, 241, 0.1);               /* 21x - blue info highlight */
  --overlay-success: rgba(16, 185, 129, 0.1);            /* 13x - green success highlight */

  /* Dark theme overlays */
  --overlay-dark-heavy: rgba(26, 29, 35, 0.8);           /* 22x - dark glass morphism */

  /* ===== SKELETON LOADERS ===== */
  --skeleton-gradient: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
  --skeleton-gradient-dark: linear-gradient(90deg, #2a2a2a 25%, #1a1a1a 50%, #2a2a2a 75%);

  /* ===== HOVER EFFECTS ===== */
  --token-hover-lift: translateY(-2px);
  --token-hover-scale: scale(1.05);
  --token-hover-scale-sm: scale(1.02);
  --token-hover-shadow: 0 var(--token-space-md) var(--token-space-3xl) rgba(0, 0, 0, 0.12);
  --token-hover-shadow-lg: 0 var(--token-space-lg) var(--token-space-4xl) rgba(0, 0, 0, 0.15);

  /* ===== TRANSITIONS ===== */
  --token-transition-fast: 0.15s ease;
  --token-transition-normal: 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  --token-transition-slow: 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  --apple-ease: cubic-bezier(0.25, 0.46, 0.45, 0.94);
  --apple-spring: cubic-bezier(0.175, 0.885, 0.32, 1.275);

  /* ===== TYPOGRAPHY ===== */
  --font-family: -apple-system, BlinkMacSystemFont, "SF Pro Display", "SF Pro Text", system-ui, sans-serif;

  --token-font-xs: 0.625rem;    /* 10px */
  --token-font-sm: 0.75rem;     /* var(--token-space-lg) */
  --token-font-md: 0.875rem;    /* 14px */
  --token-font-lg: 1rem;        /* var(--token-space-xl) */
  --token-font-xl: 1.125rem;    /* 18px */
  --token-font-2xl: 1.25rem;    /* var(--token-space-2xl) */
  --token-font-3xl: 1.5rem;     /* var(--token-space-3xl) */

  --token-font-weight-normal: 400;
  --token-font-weight-medium: 500;
  --token-font-weight-semibold: 590;
  --token-font-weight-bold: 600;
  --token-font-weight-extrabold: 700;

  /* ===== Z-INDEX SCALE ===== */
  --token-z-base: 0;
  --token-z-raised: 10;
  --token-z-overlay: 100;
  --token-z-modal: 1000;
  --token-z-toast: 2000;
  --z-menu-overlay: 9999;
  --z-menu: 10000;

  /* ===== TOUCH TARGETS ===== */
  --min-touch-target: 44px;
  --comfortable-touch-target: 36px;
  --stress-touch-target: 52px;
}

/* ===== DARK THEME ===== */
.theme-dark {
  /* UI Colors (Dark Mode) */
  --background: #1a1d23;
  --foreground: #ffffff;
  --card: #1a1d23;
  --card-foreground: #ffffff;
  --muted: #2a2a2a;
  --muted-foreground: #ffffff;
  --border: #4a5568;
  --input: #2a2a2a;
  --primary: #007AFF;
  --primary-foreground: #ffffff;
  --secondary: #2a2a2a;
  --secondary-foreground: #ffffff;

  /* Neutral Grays (Dark Theme) - for theme switching */
  --surface: #2a2a2a;              /* Dark surface */
  --surface-subtle: #262626;        /* Slightly darker surface */
  --surface-muted: #1a1a1a;         /* Very dark surface */
  --surface-elevated: #2c3e50;      /* Dark elevated surface */
  --background-subtle: #1f2937;     /* Dark surface elevated */
  --background-soft: #334155;       /* Medium dark gray */
  --foreground-muted: #e5e7eb;      /* Light muted text on dark */
  --foreground-dark: #ffffff;       /* White text on dark bg */
  --border-light: #3a3a3a;          /* Dark border */
  --border-subtle: #4a5568;         /* Subtle dark border */
  --text-gray: #9ca3af;             /* Gray text on dark */
  --text-light-gray: #6b7280;       /* Darker gray text */

  /* Glass Morphism (Dark Mode) */
  --glass-bg: rgba(26, 29, 35, 0.9);
  --glass-border: rgba(74, 85, 104, 0.3);

  /* Skeleton Loaders (Dark Mode) */
  --skeleton-gradient: var(--skeleton-gradient-dark);

  /* Check-in Status Colors (darker backgrounds for better dark mode visibility) */
  --status-no-status: #6b7280;
  --status-no-status-bg: #6b7280;

  --status-checked-in: #10b981;
  --status-checked-in-bg: #10b981;

  --status-at-gate: #8b5cf6;
  --status-at-gate-bg: #8b5cf6;

  --status-come-to-gate: #3b82f6;
  --status-come-to-gate-bg: #3b82f6;

  --status-conflict: #f59e0b;
  --status-conflict-bg: #f59e0b;

  --status-pulled: #ef4444;
  --status-pulled-bg: #ef4444;

  /* Class Status Colors - Inherited from :root (same vibrant colors work in dark mode) */

  /* Check-in Status Colors - Inherited from :root (same vibrant colors work in dark mode) */
  /* Using same colors as light mode with white text for consistency */

  /* Result Status Colors */
  --status-qualified: var(--status-checked-in);
  --status-not-qualified: var(--status-pulled);
  --status-excused: #fef3c7;

  /* Semantic Colors (Dark Mode) */
  --token-success-contrast: var(--status-checked-in);
  --token-warning-contrast: #fef3c7;
  --token-error-contrast: var(--status-pulled);

  /* Result Status Colors (brighter for dark mode) */
  --token-result-qualified: #34d399;
  --token-result-nq: var(--status-pulled);
  --token-result-excused: var(--status-pulled);
  --token-result-absent: var(--status-at-gate);
  --token-result-withdrawn: var(--status-at-gate);

  /* Text Colors (Dark Mode) */
  --token-text-primary: #ffffff;
  --token-text-secondary: #e5e7eb;
  --token-text-tertiary: #9ca3af;
  --token-text-muted: #6b7280;
  --token-text-white: #ffffff;

  /* Shadows (Dark Mode - stronger) */
  --token-shadow-sm: 0 1px 3px var(--shadow-medium);
  --token-shadow-md: 0 var(--token-space-xs) var(--token-space-md) var(--shadow-medium);
  --token-shadow-lg: 0 var(--token-space-md) var(--token-space-3xl) var(--shadow-strong);
  --token-shadow-xl: 0 var(--token-space-lg) var(--token-space-4xl) var(--shadow-strong);
  --token-hover-shadow: 0 var(--token-space-md) var(--token-space-3xl) var(--shadow-strong);
  --token-hover-shadow-lg: 0 var(--token-space-lg) var(--token-space-4xl) var(--shadow-strong);

  /* Legacy tokens (Dark Mode) */
  --token-status-no-status: var(--status-no-status);
  --token-status-no-status-bg: var(--status-no-status-bg);
  --token-status-checked-in: var(--status-checked-in);
  --token-status-checked-in-bg: var(--status-checked-in-bg);
  --token-status-at-gate: var(--status-at-gate);
  --token-status-at-gate-bg: var(--status-at-gate-bg);
  --token-status-in-ring: var(--checkin-in-ring);
  --token-status-in-ring-bg: var(--checkin-in-ring);
  --token-status-conflict: var(--status-conflict);
  --token-status-conflict-bg: var(--status-conflict-bg);
  --token-status-pulled: var(--status-pulled);
  --token-status-pulled-bg: var(--status-pulled-bg);
  --token-status-done: var(--status-completed);
  --token-status-done-bg: var(--status-completed-bg);
}

/* ===== DENSITY CLASSES ===== */
html.density-compact {
  --spacing-multiplier: 0.5;
  --element-padding: var(--spacing-compact);
  --element-margin: var(--spacing-compact);
  --element-gap: var(--spacing-compact);
}

html.density-comfortable {
  --spacing-multiplier: 1;
  --element-padding: var(--spacing-comfortable);
  --element-margin: var(--spacing-comfortable);
  --element-gap: var(--spacing-comfortable);
}

html.density-spacious {
  --spacing-multiplier: 1.5;
  --element-padding: var(--spacing-spacious);
  --element-margin: var(--spacing-spacious);
  --element-gap: var(--spacing-spacious);
}

/* Apply density to common elements */
html.density-compact button,
html.density-compact .setting-item,
html.density-compact .card {
  padding: calc(var(--element-padding) * 0.75);
  gap: calc(var(--element-gap) * 0.75);
}

html.density-spacious button,
html.density-spacious .setting-item,
html.density-spacious .card {
  padding: calc(var(--element-padding) * 1.25);
  gap: calc(var(--element-gap) * 1.25);
}

/* ===== UTILITY CLASSES ===== */
/* Hover effects */
.token-hover-lift {
  transition: var(--token-transition-normal);
}

.token-hover-lift:hover {
  transform: var(--token-hover-lift);
  box-shadow: var(--token-hover-shadow);
}

.token-hover-scale {
  transition: var(--token-transition-normal);
}

.token-hover-scale:hover {
  transform: var(--token-hover-scale);
  box-shadow: var(--token-hover-shadow);
}

/* Status color utilities */
.token-status-in-ring-hover:hover {
  transform: var(--token-hover-scale-sm) var(--token-hover-lift);
  box-shadow: 0 var(--token-space-lg) var(--token-space-4xl) rgba(249, 115, 22, 0.2), 0 var(--token-space-md) var(--token-space-xl) rgba(0, 0, 0, 0.15);
  border-color: rgba(249, 115, 22, 0.4);
}

.theme-dark .token-status-in-ring-hover:hover {
  box-shadow: 0 var(--token-space-lg) var(--token-space-4xl) rgba(249, 115, 22, 0.3), 0 var(--token-space-md) var(--token-space-xl) var(--shadow-strong);
  border-color: rgba(249, 115, 22, 0.5);
}

/* ===================================================================
   IMAGE RENDERING OPTIMIZATION
   Ensures crisp logo/icon rendering across all browsers
   =================================================================== */

/* Optimize notification icons and logos for crisp rendering */
img[src*="notification-icon"],
img[src*="logo"] {
  image-rendering: -webkit-optimize-contrast; /* Webkit/Blink - Safari, Chrome */
  image-rendering: crisp-edges; /* Standard CSS - Modern browsers */
  image-rendering: -moz-crisp-edges; /* Firefox */
}

/* Smooth scaling for larger images (photos, screenshots) */
img[src*="screenshot"],
img[src*="photo"] {
  image-rendering: auto; /* Use default smooth scaling */
}
