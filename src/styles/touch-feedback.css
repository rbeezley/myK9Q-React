/**
 * Touch Feedback Styles
 * Provides immediate visual feedback for all interactive elements on mobile devices
 * Goal: < 50ms perceived response time
 */

/* Universal touch feedback class */
.touchable {
  -webkit-tap-highlight-color: rgba(99, 102, 241, 0.1);
  touch-action: manipulation; /* Prevent double-tap zoom */
  transition: transform 0.05s ease-out, opacity 0.05s ease-out;
  cursor: pointer;
}

@media (hover: none) {
  /* Mobile only - aggressive feedback */
  .touchable:active {
    transform: scale(0.98);
    opacity: 0.9;
  }

  /* Dog Card touch feedback */
  .dog-card {
    -webkit-tap-highlight-color: rgba(99, 102, 241, 0.1);
    touch-action: manipulation;
    transition: transform 0.05s ease-out, box-shadow 0.05s ease-out;
  }

  .dog-card:active {
    transform: scale(0.97);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
  }

  /* Class Card touch feedback */
  .class-card {
    -webkit-tap-highlight-color: rgba(99, 102, 241, 0.1);
    touch-action: manipulation;
    transition: transform 0.05s ease-out, box-shadow 0.05s ease-out;
  }

  .class-card:active {
    transform: scale(0.97);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
  }

  /* Entry Card touch feedback */
  .entry-card {
    -webkit-tap-highlight-color: rgba(99, 102, 241, 0.1);
    touch-action: manipulation;
    transition: transform 0.05s ease-out, box-shadow 0.05s ease-out;
  }

  .entry-card:active {
    transform: scale(0.97);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
  }

  /* Button touch feedback */
  button:not(:disabled) {
    -webkit-tap-highlight-color: rgba(99, 102, 241, 0.1);
    touch-action: manipulation;
    transition: transform 0.05s ease-out, filter 0.05s ease-out;
  }

  button:not(:disabled):active {
    transform: scale(0.95);
    filter: brightness(0.9);
  }

  /* Badge touch feedback */
  .badge.touchable:active,
  .status-badge.touchable:active,
  .check-in-badge.touchable:active,
  .class-status-badge.touchable:active {
    transform: scale(0.95);
    filter: brightness(0.9);
  }

  /* Chip/Filter touch feedback */
  .chip:active,
  .filter-chip:active,
  .result-chip:active {
    transform: scale(0.95);
    filter: brightness(0.9);
  }

  /* Icon button touch feedback */
  .icon-button:active {
    transform: scale(0.9);
    opacity: 0.7;
  }

  /* Tab touch feedback */
  .tab:active {
    transform: scale(0.98);
    opacity: 0.85;
  }

  /* List item touch feedback */
  .list-item.touchable:active {
    transform: scale(0.99);
    background-color: rgba(99, 102, 241, 0.05);
  }

  /* Hamburger menu item touch feedback */
  .menu-item:active {
    transform: scale(0.98);
    background-color: rgba(99, 102, 241, 0.1);
  }

  /* Timer button touch feedback */
  .timer-button:active {
    transform: scale(0.92);
    filter: brightness(0.85);
  }

  /* Scoresheet element touch feedback */
  .scoresheet-button:active,
  .fault-button:active,
  .elimination-button:active {
    transform: scale(0.93);
    box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.2);
  }

  /* Number input touch feedback */
  .number-input-button:active {
    transform: scale(0.9);
    background-color: rgba(99, 102, 241, 0.2);
  }

  /* Switch/Toggle touch feedback */
  .toggle:active,
  .switch:active {
    transform: scale(0.95);
  }

  /* Card action area touch feedback */
  .card-action:active {
    background-color: rgba(99, 102, 241, 0.08);
  }
}

/* Desktop hover states */
@media (hover: hover) {
  .touchable:hover {
    opacity: 0.95;
  }

  button:not(:disabled):hover {
    filter: brightness(0.95);
  }

  .badge.touchable:hover,
  .status-badge.touchable:hover {
    filter: brightness(0.95);
  }

  .dog-card:hover,
  .class-card:hover,
  .entry-card:hover {
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  }
}

/* Disabled state - no feedback */
button:disabled,
.touchable.disabled,
.touchable:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  touch-action: none;
}

button:disabled:active,
.touchable.disabled:active,
.touchable:disabled:active {
  transform: none;
  filter: none;
}

/* Prevent text selection during touch */
@media (hover: none) {
  .touchable,
  button,
  .badge,
  .chip {
    -webkit-user-select: none;
    user-select: none;
  }
}

/* Reduce motion for accessibility */
@media (prefers-reduced-motion: reduce) {
  .touchable,
  button,
  .dog-card,
  .class-card,
  .entry-card,
  .badge,
  .chip {
    transition: none !important;
    transform: none !important;
  }
}
